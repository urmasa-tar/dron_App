{% extends "base.html" %}

{% block content %}
<!-- Заголовочный блок -->
<header class="header">
    <div class="header-content">
        <h1>Управление парком дронов</h1>
        <p class="subtitle">Мониторинг и контроль дронов в реальном времени</p>
    </div>
</header>

<!-- Блок описания с иконкой -->
<section class="about-section">
    <div class="about-content">
        <div class="about-text">
            <h2>Наша система управления</h2>
            <p>Профессиональное решение для мониторинга и управления дронами на базе Raspberry Pi с интеграцией с Clover.</p>
            <p>Контролируйте полеты, получайте телеметрию и управляйте задачами из единого центра.</p>
        </div>
        <div class="about-image">
            <img src="/static/img/drone-icon.png" alt="Иконка дрона">
        </div>
    </div>
</section>

<!-- Блок доступных дронов -->
<section class="drones-section">
    <h2>Доступные дроны</h2>
    <div class="drones-list">
        <!-- Пример одного дрона -->
        <div class="drone-card">
            <div class="drone-status status-idle"></div>
            <h3>Clover-001</h3>
            <p class="drone-info">
                <span class="label">Статус:</span> Ожидание
            </p>
            <p class="drone-info">
                <span class="label">IP:</span> 192.168.1.100
            </p>
            <div class="drone-actions">
                <button class="btn control-btn">Управление</button>
                <button class="btn details-btn">Подробнее</button>
            </div>
        </div>
        
        <!-- Место для дополнительных дронов при динамическом добавлении -->
        {% for drone in drones %}
        <div class="drone-card">
            <div class="drone-status status-{{ drone.status }}"></div>
            <h3>{{ drone.name }}</h3>
            <p class="drone-info">
                <span class="label">Статус:</span> 
                {% if drone.status == 'idle' %}Ожидание{% endif %}
                {% if drone.status == 'busy' %}Выполнение задачи{% endif %}
                {% if drone.status == 'error' %}Ошибка{% endif %}
            </p>
            <p class="drone-info">
                <span class="label">IP:</span> {{ drone.ip_address }}
            </p>
            <div class="drone-actions">
                <button class="btn control-btn">Управление</button>
                <button class="btn details-btn">Подробнее</button>
            </div>
        </div>
        {% endfor %}
    </div>
</section>

<!-- Нижняя часть сайта -->
<footer class="footer">
    <div class="footer-content">
        <p>© 2023 Система управления дронами</p>
        <div class="footer-links">
            <a href="#">Документация</a>
            <a href="#">Контакты</a>
            <a href="#">Поддержка</a>
        </div>
    </div>
</footer>
{% endblock %}